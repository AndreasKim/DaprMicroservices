# DaprMicroservices

Sample project to show the usage of Dapr microservices with Grpc and Clean Architecture.  

In order to run the project first install dapr (https://docs.dapr.io/getting-started/install-dapr-cli/)


```console
powershell -Command "iwr -useb https://raw.githubusercontent.com/dapr/cli/master/install/install.ps1 | iex"
```

and run "dapr init" (https://docs.dapr.io/getting-started/install-dapr-selfhost/).

In the following you can normally start the project in Visual Studio. The Dapr sidecar is automatically started via Dapr Sidekick.

## Project Structure

![grafik](https://user-images.githubusercontent.com/106377614/209716594-81106af8-4d0f-49e0-89bc-044ad229cdd2.png)

Proto files will be autogenerated based on the commands and queries.  
The autogeneration is flagged by IRequest<> and IResponse.

### Backend
- Ardalis.Specification
- Ardalis.Specification.EntityFrameworkCore
- Microsoft.EntityFrameworkCore
- Grpc
- Dapr.AspNetCore
- Man.Dapr.Sidekick.AspNetCore
- FluentValidation
- AutoMapper
- MediatR
- OpenTelemtry
- Serilog


### Benchmark
Job=MediumRun  
Toolchain=InProcessNoEmitToolchain  
IterationCount=15  
LaunchCount=2 
WarmupCount=10

Request:  
== IntList == Total size in byte: 2160  
== StrList == Total size in byte: 4140  

|                  Method |     Mean |     Error |    StdDev |
|------------------------ |---------:|----------:|----------:|
| SendHugeRequestToServer | 1.401 ms | 0.1815 ms | 0.2716 ms |
